<!--

        This file is part of the Squashtest platform.
        Copyright (C) Henix, henix.fr

        See the NOTICE file distributed with this work for additional
        information regarding copyright ownership.

        This is free software: you can redistribute it and/or modify
        it under the terms of the GNU Lesser General Public License as published by
        the Free Software Foundation, either version 3 of the License, or
        (at your option) any later version.

        this software is distributed in the hope that it will be useful,
        but WITHOUT ANY WARRANTY; without even the implied warranty of
        MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
        GNU Lesser General Public License for more details.

        You should have received a copy of the GNU Lesser General Public License
        along with this software.  If not, see <http://www.gnu.org/licenses/>.

-->
<div th:remove="all">
  <!--
        This snippet of html describes the template for the behavior test step panel of the tab panel of a behavior test case.
        Required data :
            - stepsData : a list of BehaviorTestSteps.
     -->
</div>

<div id="tab-tc-behavior-steps" class="table-tab">

  <div>
    <h4>This is the Behavior Test Step Page.</h4>
  </div>
  <br/>
  <div>
    <label>Add your behavior test step here: (255 characters max) </label>
    <input id="add-behavior-test-step-input" type="text" placeholder="New behavior test step..." maxlength="255" width="auto"/>
    <button id="add-behavior-test-step-btn" type="submit">Add Behavior</button>
  </div>
  <br/>
  <div id="add-behavior-test-step-result"></div>

  <!-- ==================== table definition =================== -->
  <div class="table-tab-wrap jstree-drop" style="position: relative;">
    <table th:id="'behavior-test-step-table-'+${testCase.id}" class="unstyled-table test-steps-table ">
      <thead>
      <tr>
        <th data-def="map=step-index, select">#</th>
        <th th:text="#{label.id}" data-def="map=step-id"> </th>
        <th th:text="#{label.Name}" data-def="map=step-keyword"> </th>
        <th th:text="#{label.Name}" data-def="map=step-phrase, sortable"> </th>

      </tr>
      </thead>
      <tbody>
      <!-- eager-loaded through data property of table -->
      </tbody>
    </table>
  </div>
  <!-- ==================== /table definition =================== -->

  <script type="text/javascript" th:inline="javascript">
  /*<![CDATA[*/
  requirejs.config({
    waitSeconds: 0
  });
  require([ "common" ], function(common) {
    require(["domReady", "test-case-management"], function(domReady, testCaseManagement){
      domReady(function(){

        var settings = {
          stepData : /*[[${stepData}]]*/[],
          testCaseId : /*[[${testCase.id}]]*/1,
          language : {},
          permissions : {}
        };
        testCaseManagement.initBehaviorStepTablePanel(settings);
      });
    });
  });
  /*]]>*/
</script>

</div>
